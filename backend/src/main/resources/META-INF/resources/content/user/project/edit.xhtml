<!-- Sources generated by springboot-scaffolding-maven-plugin  -->
<ui:composition
        template="/template/backoffice_layout.xhtml"
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
>

    <ui:param name="pageName" value="#{msg['app.admin.project.title']}"/>
    <ui:param name="subPageName" value="#{ ProjectEditManagedBean.isEditing()? msg['app.admin.project.edit.title'] : msg['app.admin.project.create.title']}"/>
    <ui:define name="title">
        #{msg['app.admin.project.title']} - #{ ProjectEditManagedBean.isEditing()? msg['app.admin.project.edit.title'] : msg['app.admin.project.create.title']}
    </ui:define>
    <ui:define name="content">
        <div class="row">
            <div class="col-md-12">
                <div class="panel animated zoomIn">
                    <div class="panel-heading clearfix">
                        <h3 class="panel-title">#{ ProjectEditManagedBean.isEditing() ? msg['app.admin.project.edit.header'] : msg['app.admin.project.create.header']}</h3>
                    </div>
                    <div class="panel-body">

                        <h:form id="form">
                            <div class="form-group #{!name.valid ? 'has-error' : ''}">
                                <label for="name">#{msg['app.admin.project.field.name']} *</label>
                                <p:messages for="name" showIcon="false" />
                                <p:inputText id="name"
                                             value="#{ ProjectEditManagedBean.project.name}"
                                             placeholder="#{msg['app.admin.project.field.name.placeholder']}"
                                             styleClass="form-control"
                                required="true"
                                requiredMessage="#{msg['app.admin.project.field.name.required']}"
                                binding="#{ name }"
                                />
                            </div>


                            <div class="pull-right">
                                    <p:commandButton class="btn btn-danger btn-with-icon"
                                                 icon="fa fa-trash"
                                                 action="#{ ProjectEditManagedBean.delete()}"
                                                 value="#{msg['app.admin.project.delete']}"
                                                 rendered="#{ ProjectEditManagedBean.isEditing()}"
                                    >
                                        <p:confirm header="Confirmation" message="Are you sure?" icon="ui-icon-alert" />
                                    </p:commandButton>

                                    <p:commandButton class="btn btn-primary btn-with-icon"
                                              icon="fa fa-check"
                                              action="#{ ProjectEditManagedBean.save()}"
                                              update="@form"
                                              value="#{msg['app.admin.project.save']}"
                                    />

                                    <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                                        <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes btn btn-danger btn-xs" icon="fa fa-check" />
                                        <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no btn btn-primary btn-xs spaceleft" icon="fa fa-close" />
                                    </p:confirmDialog>
                            </div>
                            <input type="hidden"  name="#{_csrf.parameterName}"   value="#{_csrf.token}"/>
                        </h:form>
                    </div>
                </div>
            </div>
        </div>
    </ui:define>

</ui:composition>