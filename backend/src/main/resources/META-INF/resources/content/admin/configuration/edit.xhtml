<!-- Sources generated by springboot-scaffolding-maven-plugin  -->
<ui:composition
        template="/template/backoffice_layout.xhtml"
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
        xmlns:c="http://java.sun.com/jsp/jstl/core"
>

    <ui:param name="pageName" value="#{msg['app.admin.configuration.title']}"/>
    <ui:param name="subPageName" value="#{ ConfigurationEditManagedBean.isEditing()? msg['app.admin.configuration.edit.title'] : msg['app.admin.configuration.create.title']}"/>
    <ui:define name="title">
        #{msg['app.admin.configuration.title']} - #{ ConfigurationEditManagedBean.isEditing()? msg['app.admin.configuration.edit.title'] : msg['app.admin.configuration.create.title']}
    </ui:define>
    <ui:define name="content">
        <div class="row">
            <div class="col-md-12">
                <div class="panel animated zoomIn">
                    <div class="panel-heading clearfix">
                        <h3 class="panel-title">#{ ConfigurationEditManagedBean.isEditing() ? msg['app.admin.configuration.edit.header'] : msg['app.admin.configuration.create.header']}</h3>
                    </div>
                    <div class="panel-body">

                        <h:form id="form">
                            <c:choose>
                                <c:when test="#{ ConfigurationEditManagedBean.isEditing()}">
                                    <div class="form-group">
                                        <label for="key">#{msg['app.admin.configuration.field.key']}</label>
                                        <input id="key" class="form-control" type="text" disabled="" value="#{ ConfigurationEditManagedBean.configuration.key}"/>
                                    </div>
                                </c:when>
                                <c:otherwise>
                                    <div class="form-group #{!key.valid ? 'has-error' : ''}">
                                        <label for="key">#{msg['app.admin.configuration.field.key']} *</label>
                                        <p:messages for="key" showIcon="false" />
                                        <p:inputText id="key"
                                                     value="#{ ConfigurationEditManagedBean.configuration.key}"
                                                     placeholder="#{msg['app.admin.configuration.field.key.placeholder']}"
                                                     styleClass="form-control"
                                        required="true"
                                        requiredMessage="#{msg['app.admin.configuration.field.key.required']}"
                                        binding="#{ key }"
                                        />
                                    </div>
                                </c:otherwise>
                            </c:choose>
                            <div class="form-group #{!value.valid ? 'has-error' : ''}">
                                <label for="value">#{msg['app.admin.configuration.field.value']} *</label>
                                <p:messages for="value" showIcon="false" />
                                <p:inputText id="value"
                                             value="#{ ConfigurationEditManagedBean.configuration.value}"
                                             placeholder="#{msg['app.admin.configuration.field.value.placeholder']}"
                                             styleClass="form-control"
                                required="true"
                                requiredMessage="#{msg['app.admin.configuration.field.value.required']}"
                                binding="#{ value }"
                                />
                            </div>
                            <div class="form-group ">
                                <label for="export">#{msg['app.admin.configuration.field.export']}</label>
                                <p:selectBooleanCheckbox
                                        id="export"
                                        value="#{ ConfigurationEditManagedBean.configuration.export}"
                                />
                            </div>



                            <div class="pull-right">
                                    <p:commandButton class="btn btn-danger btn-with-icon"
                                                 icon="fa fa-trash"
                                                 action="#{ ConfigurationEditManagedBean.delete()}"
                                                 value="#{msg['app.admin.configuration.delete']}"
                                                 rendered="#{ ConfigurationEditManagedBean.isEditing()}"
                                    >
                                        <p:confirm header="Confirmation" message="Are you sure?" icon="ui-icon-alert" />
                                    </p:commandButton>

                                    <p:commandButton class="btn btn-primary btn-with-icon"
                                              icon="fa fa-check"
                                              action="#{ ConfigurationEditManagedBean.save()}"
                                              update="@form"
                                              value="#{msg['app.admin.configuration.save']}"
                                    />

                                    <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                                        <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes btn btn-danger btn-xs" icon="fa fa-check" />
                                        <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no btn btn-primary btn-xs spaceleft" icon="fa fa-close" />
                                    </p:confirmDialog>
                            </div>
                            <input type="hidden"  name="#{_csrf.parameterName}"   value="#{_csrf.token}"/>
                        </h:form>
                    </div>
                </div>
            </div>
        </div>
    </ui:define>

</ui:composition>